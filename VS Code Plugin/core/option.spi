union option a =
    | Some: a
    | None

inl bind f = function Some: a => f a | None => None
inl map f = bind (some_ >> f)
inl defaultWith d = function
    | Some: x => x
    | None => d