// Does the $ record-with pattern work?
open real_core
inl main _ =
    inl k = .q
    inl m = { $k = { b = 2 }}

    inl ~_ = {m$k with a = 1}
    0i32