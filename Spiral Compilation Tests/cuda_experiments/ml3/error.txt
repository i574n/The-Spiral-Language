Error trace on line: 195, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\game\leduc\main.spi.
inl main() =
        ^
Error trace on line: 197, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\game\leduc\main.spi.
    named_tuple "Leduc_Game" {
    ^
Error trace on line: 199, column: 31 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\game\leduc\main.spi.
        event_loop_cpu = fun (msg, state) => event_loop (jsonm.deserialize msg, jsonm.deserialize state) |> jsonm.serialize
                              ^
Error trace on line: 199, column: 46 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\game\leduc\main.spi.
        event_loop_cpu = fun (msg, state) => event_loop (jsonm.deserialize msg, jsonm.deserialize state) |> jsonm.serialize
                                             ^
Error trace on line: 57, column: 16 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corebase\core.spi.
inl (|>) a b = b a
               ^
Error trace on line: 68, column: 26 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
let serialize forall t. (x : t) : json t = json real
                         ^
Error trace on line: 68, column: 44 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
let serialize forall t. (x : t) : json t = json real
                                           ^
Error trace on line: 106, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
    f `t x
    ^
Error trace on line: 70, column: 27 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
    inl rec f forall t'. (x : t') : obj = 
                          ^
Error trace on line: 71, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        inl serialize_sa forall array el. =
        ^
Error trace on line: 77, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        typecase t' with
        ^
Error trace on line: 80, column: 17 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        | {} => record_type_map (fun k => forall v. => f `v (x k)) `t' |> fun x => !!!!ToPythonRecord(x)
                ^
Error trace on line: 80, column: 56 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        | {} => record_type_map (fun k => forall v. => f `v (x k)) `t' |> fun x => !!!!ToPythonRecord(x)
                                                       ^
Error trace on line: 70, column: 27 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
    inl rec f forall t'. (x : t') : obj = 
                          ^
Error trace on line: 71, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        inl serialize_sa forall array el. =
        ^
Error trace on line: 77, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        typecase t' with
        ^
Error trace on line: 80, column: 17 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        | {} => record_type_map (fun k => forall v. => f `v (x k)) `t' |> fun x => !!!!ToPythonRecord(x)
                ^
Error trace on line: 80, column: 56 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        | {} => record_type_map (fun k => forall v. => f `v (x k)) `t' |> fun x => !!!!ToPythonRecord(x)
                                                       ^
Error trace on line: 70, column: 27 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
    inl rec f forall t'. (x : t') : obj = 
                          ^
Error trace on line: 71, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        inl serialize_sa forall array el. =
        ^
Error trace on line: 77, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        typecase t' with
        ^
Error trace on line: 85, column: 13 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
            if union_type_is `t' then 
            ^
Error trace on line: 86, column: 17 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
                inl body() =
                ^
Error trace on line: 92, column: 23 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
                (join body()) : obj
                      ^
Error trace on line: 86, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
                inl body() =
                        ^
Error trace on line: 87, column: 21 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
                    unbox x (fun (k,v) =>
                    ^
Error trace on line: 240, column: 27 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corebase\real_core.spir.
inl unbox x on_succ = !!!!Unbox(x,on_succ)
                          ^
Error trace on line: 87, column: 35 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
                    unbox x (fun (k,v) =>
                                  ^
Error trace on line: 88, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
                        inl k = symbol_to_string k
                        ^
Error trace on line: 89, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
                        inl v = f `(`(v)) v
                        ^
Error trace on line: 89, column: 33 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
                        inl v = f `(`(v)) v
                                ^
Error trace on line: 70, column: 27 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
    inl rec f forall t'. (x : t') : obj = 
                          ^
Error trace on line: 71, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        inl serialize_sa forall array el. =
        ^
Error trace on line: 77, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        typecase t' with
        ^
Error trace on line: 79, column: 22 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        | ~a * ~b => f_tuple `t' (python_listm.create' `obj) x
                     ^
Error trace on line: 98, column: 68 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
    and inl f_tuple forall t'. (l : python_listm.python_list obj) (x : t') : obj =
                                                                   ^
Error trace on line: 99, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        typecase t' with
        ^
Error trace on line: 101, column: 13 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
            python_listm.push `obj l (f `a (fst x))
            ^
Error trace on line: 102, column: 13 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
            f_tuple `b l (snd x)
            ^
Error trace on line: 98, column: 68 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
    and inl f_tuple forall t'. (l : python_listm.python_list obj) (x : t') : obj =
                                                                   ^
Error trace on line: 99, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        typecase t' with
        ^
Error trace on line: 104, column: 13 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
            python_listm.push `obj l (f `t' x)
            ^
Error trace on line: 104, column: 39 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
            python_listm.push `obj l (f `t' x)
                                      ^
Error trace on line: 70, column: 27 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
    inl rec f forall t'. (x : t') : obj = 
                          ^
Error trace on line: 71, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml3\corepython\jsonm.spi.
        inl serialize_sa forall array el. =
        ^
The body does not match the annotation.
Got: action -> node
Expected: object