Error trace on line: 107, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
inl main() = test0()
        ^
Error trace on line: 107, column: 14 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
inl main() = test0()
             ^
Error trace on line: 98, column: 10 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
inl test0() =
         ^
Error trace on line: 99, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
    inl dim : partition (tensor (int * int) f32) = !(4,4)
    ^
Error trace on line: 100, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
    inl dim2 : partition (tensor (int) u8) = !(10)
    ^
Error trace on line: 101, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
    inl dim3 : partition (tensor (int * int) f32) = !(10,10)
    ^
Error trace on line: 102, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
    inl p = #(dim2 *. dim |> reorder (fun a,b => {l=a; r=b})) +. #(dim3 *. dim)
    ^
Error trace on line: 103, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
    inl x : array u8 = create (conv p.length)
    ^
Error trace on line: 104, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
    inl p = reorder (fun a,b => {a b}, a) p
    ^
Error trace on line: 104, column: 13 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
    inl p = reorder (fun a,b => {a b}, a) p
            ^
Error trace on line: 96, column: 45 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
instance reorder partition_offsets = fun f (partition_offsets p) => partition_offsets {p with body#=fun p => real real_core.assert_nominals_are_equal_under_set_equality p (f p)}
                                            ^
Error trace on line: 96, column: 69 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
instance reorder partition_offsets = fun f (partition_offsets p) => partition_offsets {p with body#=fun p => real real_core.assert_nominals_are_equal_under_set_equality p (f p)}
                                                                    ^
Error trace on line: 96, column: 87 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
instance reorder partition_offsets = fun f (partition_offsets p) => partition_offsets {p with body#=fun p => real real_core.assert_nominals_are_equal_under_set_equality p (f p)}
                                                                                      ^
Error trace on line: 96, column: 115 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\tensorm\partitionm.spi.
instance reorder partition_offsets = fun f (partition_offsets p) => partition_offsets {p with body#=fun p => real real_core.assert_nominals_are_equal_under_set_equality p (f p)}
                                                                                                                  ^
Error trace on line: 135, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\real_core.spir.
    if uses_original_nominals a b then b
    ^
Error trace on line: 136, column: 10 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor4\corebase\real_core.spir.
    else error_type "The two arguments have to have the same nominals (as well as literals and runtime variables outside of them) under reference equalty when placed in a set, in addition to having the same number of them."
         ^
The two arguments have to have the same nominals (as well as literals and runtime variables outside of them) under reference equalty when placed in a set, in addition to having the same number of them.