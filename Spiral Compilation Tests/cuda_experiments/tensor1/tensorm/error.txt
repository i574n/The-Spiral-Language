Error trace on line: 20, column: 11 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor1\tensorm\utils.spir.
        | ar => index ar
          ^
Error trace on line: 20, column: 17 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor1\tensorm\utils.spir.
        | ar => index ar
                ^
Error trace on line: 157, column: 23 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor1\tensorm\type.spi.
            map (fun (tensor_body r as x) =>
                      ^
Error trace on line: 157, column: 40 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor1\tensorm\type.spi.
            map (fun (tensor_body r as x) =>
                                       ^
Error trace on line: 158, column: 17 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor1\tensorm\type.spi.
                typecase `x with
                ^
Error trace on line: 159, column: 48 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor1\tensorm\type.spi.
                | tensor_body (int * b) ~el => tensor_body `(dim * b) `el {r with stride #= fun a, b => map ((*) (last a)) stride, b }
                                               ^
Error trace on line: 159, column: 75 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor1\tensorm\type.spi.
                | tensor_body (int * b) ~el => tensor_body `(dim * b) `el {r with stride #= fun a, b => map ((*) (last a)) stride, b }
                                                                          ^
Error trace on line: 159, column: 97 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor1\tensorm\type.spi.
                | tensor_body (int * b) ~el => tensor_body `(dim * b) `el {r with stride #= fun a, b => map ((*) (last a)) stride, b }
                                                                                                ^
Error trace on line: 159, column: 105 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor1\tensorm\type.spi.
                | tensor_body (int * b) ~el => tensor_body `(dim * b) `el {r with stride #= fun a, b => map ((*) (last a)) stride, b }
                                                                                                        ^
Error trace on line: 159, column: 111 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\tensor1\tensorm\type.spi.
                | tensor_body (int * b) ~el => tensor_body `(dim * b) `el {r with stride #= fun a, b => map ((*) (last a)) stride, b }
                                                                                                              ^
Cannot apply a forall with a term.