Error trace on line: 131, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\game\rps\main.spi.
inl main() =
        ^
Error trace on line: 133, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\game\rps\main.spi.
    named_tuple "RPS_Game" {
    ^
Error trace on line: 135, column: 27 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\game\rps\main.spi.
        event_loop = fun (msg, state) => event_loop (jsonm.deserialize msg, jsonm.deserialize state) |> jsonm.serialize
                          ^
Error trace on line: 135, column: 42 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\game\rps\main.spi.
        event_loop = fun (msg, state) => event_loop (jsonm.deserialize msg, jsonm.deserialize state) |> jsonm.serialize
                                         ^
Error trace on line: 135, column: 54 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\game\rps\main.spi.
        event_loop = fun (msg, state) => event_loop (jsonm.deserialize msg, jsonm.deserialize state) |> jsonm.serialize
                                                     ^
Error trace on line: 5, column: 28 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
let deserialize forall t. (json x : json t) : t = real
                           ^
Error trace on line: 6, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
    open real_core
    ^
Error trace on line: 47, column: 5 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
    f `t x
    ^
Error trace on line: 7, column: 27 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
    inl rec f forall t'. (x : obj) : t' = 
                          ^
Error trace on line: 8, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
        typecase t' with
        ^
Error trace on line: 23, column: 13 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
            if union_type_is `t' then 
            ^
Error trace on line: 24, column: 17 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                inl body() =
                ^
Error trace on line: 32, column: 23 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                (join body()) : t'
                      ^
Error trace on line: 24, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                inl body() =
                        ^
Error trace on line: 25, column: 21 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                    inl k,v = ($"!x[0]" : string), ($"!x[1]" : obj)
                    ^
Error trace on line: 25, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                    inl k,v = ($"!x[0]" : string), ($"!x[1]" : obj)
                        ^
Error trace on line: 26, column: 21 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                    union_to_record `t' forall r. =>
                    ^
Error trace on line: 27, column: 21 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                    record_type_fold_back (fun key => forall value. next _ =>
                    ^
Error trace on line: 28, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                        if symbol_to_string key = k then nominal_create `t' (key, f `value v)
                        ^
Error trace on line: 28, column: 58 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                        if symbol_to_string key = k then nominal_create `t' (key, f `value v)
                                                         ^
Error trace on line: 28, column: 83 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                        if symbol_to_string key = k then nominal_create `t' (key, f `value v)
                                                                                  ^
Error trace on line: 7, column: 27 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
    inl rec f forall t'. (x : obj) : t' = 
                          ^
Error trace on line: 8, column: 9 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
        typecase t' with
        ^
Error trace on line: 23, column: 13 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
            if union_type_is `t' then 
            ^
Error trace on line: 24, column: 17 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                inl body() =
                ^
Error trace on line: 32, column: 23 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                (join body()) : t'
                      ^
Error trace on line: 24, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                inl body() =
                        ^
Error trace on line: 25, column: 21 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                    inl k,v = ($"!x[0]" : string), ($"!x[1]" : obj)
                    ^
Error trace on line: 25, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                    inl k,v = ($"!x[0]" : string), ($"!x[1]" : obj)
                        ^
Error trace on line: 26, column: 21 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                    union_to_record `t' forall r. =>
                    ^
Error trace on line: 27, column: 21 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                    record_type_fold_back (fun key => forall value. next _ =>
                    ^
Error trace on line: 28, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                        if symbol_to_string key = k then nominal_create `t' (key, f `value v)
                        ^
Error trace on line: 29, column: 30 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                        else next ()
                             ^
Error trace on line: 28, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                        if symbol_to_string key = k then nominal_create `t' (key, f `value v)
                        ^
Error trace on line: 29, column: 30 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                        else next ()
                             ^
Error trace on line: 28, column: 25 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                        if symbol_to_string key = k then nominal_create `t' (key, f `value v)
                        ^
Error trace on line: 29, column: 30 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                        else next ()
                             ^
Error trace on line: 31, column: 35 in module: d:\Users\Marko\Source\Repos\The Spiral Language\Spiral Compilation Tests\cuda_experiments\ml2\corepython\jsonm.spi.
                        (fun _ => failwith `t' ("Cannot convert the Python object into a Spiral union type. Invalid string tag. Got: ", k)) ()
                                  ^
Expected a string as input to failwith.
Got: %s